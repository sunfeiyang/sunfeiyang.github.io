{"title":"MySQL管理员用户设置和修改密码的方法","num_read":1065,"num_like":87,"num_collection":710,"num_comments":286,"slug":"resource-DB-MySQL-MySQL管理员用户设置和修改密码的方法","date":"2022-05-22T16:00:00.000Z","img":"/img/header_img/DB/edit.png","_id":"clhrbp2at001fo5lggqpkf363","project":"DB","subtitle":"MySQL管理员用户设置和修改密码的方法","site":{"data":{}},"updated":"2022-07-20T05:44:32.000Z","comments":true,"path":"api/articles/resource-DB-MySQL-MySQL管理员用户设置和修改密码的方法.json","webPath":"2022/05/23/resource-DB-MySQL-MySQL管理员用户设置和修改密码的方法/","permalink":"https://sunfy9.gitee.io/2022/05/23/resource-DB-MySQL-MySQL%E7%AE%A1%E7%90%86%E5%91%98%E7%94%A8%E6%88%B7%E8%AE%BE%E7%BD%AE%E5%92%8C%E4%BF%AE%E6%94%B9%E5%AF%86%E7%A0%81%E7%9A%84%E6%96%B9%E6%B3%95/","excerpt":null,"covers":null,"keywords":"sunfy, hexo-theme-snail","content":"<p>1&gt;. 为管理员root用户设置密码的方法</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@Howden ~]# mysqladmin -uroot password &#39;12345678&#39;  #为没有密码的用户设置密码</span><br><span class=\"line\">[root@Howden ~]# mysqladmin -uroot password &#39;12345678&#39; -S &#x2F;data&#x2F;3306&#x2F;mysql.sock  #适合多实例mysql</span><br></pre></td></tr></table></figure>\n<p>2&gt;. 修改密码的方法一：Shell命令行修改</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@Howden ~]# mysqladmin -uroot -p123456 password &#39;12345678&#39;</span><br><span class=\"line\">[root@Howden ~]# mysqladmin -uroot -p123456 password &#39;12345678&#39; -S &#x2F;data&#x2F;3306&#x2F;mysql.sock</span><br></pre></td></tr></table></figure>\n<p>3&gt;. 修改密码的方法二：用SQL语句UPDATE修改（适合密码丢失后通过—skip-grant-tables参数启动数据库后修改密码）</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; DESC mysql.user;  #查看user表结构，找到Password字段</span><br><span class=\"line\">+<span class=\"comment\">------------------------+-----------------------------------+------+-----+---------+-------+</span></span><br><span class=\"line\">| Field                  | Type                              | Null | Key | Default | Extra |</span><br><span class=\"line\">+<span class=\"comment\">------------------------+-----------------------------------+------+-----+---------+-------+</span></span><br><span class=\"line\">| Host                   | char(60)                          | NO   | PRI |         |       |</span><br><span class=\"line\">| User                   | char(16)                          | NO   | PRI |         |       |</span><br><span class=\"line\">| Password               | char(41)                          | NO   |     |         |       |</span><br><span class=\"line\">.....</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#此处省略39行。。。</span></span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT user,host,password FROM mysql.user;  #可以看到，mysql中存储的用户密码是加密的</span><br><span class=\"line\">+<span class=\"comment\">--------+-----------+-------------------------------------------+</span></span><br><span class=\"line\">| user   | host      | password                                  |</span><br><span class=\"line\">+<span class=\"comment\">--------+-----------+-------------------------------------------+</span></span><br><span class=\"line\">| system | localhost | *E1CC002C309F98DEEE357E8B53BE83C4E2C451A0 |</span><br><span class=\"line\">+<span class=\"comment\">--------+-----------+-------------------------------------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\">1 row in <span class=\"keyword\">set</span> (<span class=\"number\">0.00</span> sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; <span class=\"keyword\">UPDATE</span> mysql.user <span class=\"keyword\">SET</span> <span class=\"keyword\">password</span>=<span class=\"keyword\">password</span>(<span class=\"number\">12345678</span>) <span class=\"keyword\">WHERE</span> <span class=\"keyword\">user</span>=<span class=\"string\">'system'</span> <span class=\"keyword\">AND</span> host=<span class=\"string\">'localhost'</span>;  <span class=\"comment\">#用password函数将新密码加密，否则修改后的密码是明文的，无法登录</span></span><br><span class=\"line\"></span><br><span class=\"line\">Query OK, 1 row affected (0.15 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; FLUSH PRIVILEGES;  #需要刷新之后才生效，否则只存在于内存中，无法写入到数据文件中</span><br><span class=\"line\">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure>\n<p>4&gt;. 修改密码的方法三：用SQL语句SET修改（最省事，但只能修改当前登录用户的密码）</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SET password=password('12345678');  #这里必须加引号</span><br><span class=\"line\">Query OK, 0 row affected (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; FLUSH PRIVILEGES;</span><br><span class=\"line\">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure>","more":"<p>1&gt;. 为管理员root用户设置密码的方法</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@Howden ~]# mysqladmin -uroot password &#39;12345678&#39;  #为没有密码的用户设置密码</span><br><span class=\"line\">[root@Howden ~]# mysqladmin -uroot password &#39;12345678&#39; -S &#x2F;data&#x2F;3306&#x2F;mysql.sock  #适合多实例mysql</span><br></pre></td></tr></table></figure>\n<p>2&gt;. 修改密码的方法一：Shell命令行修改</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[root@Howden ~]# mysqladmin -uroot -p123456 password &#39;12345678&#39;</span><br><span class=\"line\">[root@Howden ~]# mysqladmin -uroot -p123456 password &#39;12345678&#39; -S &#x2F;data&#x2F;3306&#x2F;mysql.sock</span><br></pre></td></tr></table></figure>\n<p>3&gt;. 修改密码的方法二：用SQL语句UPDATE修改（适合密码丢失后通过—skip-grant-tables参数启动数据库后修改密码）</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; DESC mysql.user;  #查看user表结构，找到Password字段</span><br><span class=\"line\">+<span class=\"comment\">------------------------+-----------------------------------+------+-----+---------+-------+</span></span><br><span class=\"line\">| Field                  | Type                              | Null | Key | Default | Extra |</span><br><span class=\"line\">+<span class=\"comment\">------------------------+-----------------------------------+------+-----+---------+-------+</span></span><br><span class=\"line\">| Host                   | char(60)                          | NO   | PRI |         |       |</span><br><span class=\"line\">| User                   | char(16)                          | NO   | PRI |         |       |</span><br><span class=\"line\">| Password               | char(41)                          | NO   |     |         |       |</span><br><span class=\"line\">.....</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#此处省略39行。。。</span></span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; SELECT user,host,password FROM mysql.user;  #可以看到，mysql中存储的用户密码是加密的</span><br><span class=\"line\">+<span class=\"comment\">--------+-----------+-------------------------------------------+</span></span><br><span class=\"line\">| user   | host      | password                                  |</span><br><span class=\"line\">+<span class=\"comment\">--------+-----------+-------------------------------------------+</span></span><br><span class=\"line\">| system | localhost | *E1CC002C309F98DEEE357E8B53BE83C4E2C451A0 |</span><br><span class=\"line\">+<span class=\"comment\">--------+-----------+-------------------------------------------+</span></span><br><span class=\"line\"></span><br><span class=\"line\">1 row in <span class=\"keyword\">set</span> (<span class=\"number\">0.00</span> sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; <span class=\"keyword\">UPDATE</span> mysql.user <span class=\"keyword\">SET</span> <span class=\"keyword\">password</span>=<span class=\"keyword\">password</span>(<span class=\"number\">12345678</span>) <span class=\"keyword\">WHERE</span> <span class=\"keyword\">user</span>=<span class=\"string\">'system'</span> <span class=\"keyword\">AND</span> host=<span class=\"string\">'localhost'</span>;  <span class=\"comment\">#用password函数将新密码加密，否则修改后的密码是明文的，无法登录</span></span><br><span class=\"line\"></span><br><span class=\"line\">Query OK, 1 row affected (0.15 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">Rows matched: 1  Changed: 1  Warnings: 0</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; FLUSH PRIVILEGES;  #需要刷新之后才生效，否则只存在于内存中，无法写入到数据文件中</span><br><span class=\"line\">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure>\n<p>4&gt;. 修改密码的方法三：用SQL语句SET修改（最省事，但只能修改当前登录用户的密码）</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; SET password=password('12345678');  #这里必须加引号</span><br><span class=\"line\">Query OK, 0 row affected (0.00 sec)</span><br><span class=\"line\"></span><br><span class=\"line\">mysql&gt; FLUSH PRIVILEGES;</span><br><span class=\"line\">Query OK, 0 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure>","next":{"title":"MySQL总是弹框MySQL Instanller","path":"api/articles/resource-DB-MySQL-总是弹框MySQL-Instanller.json","image":"/img/header_img/DB/MySQLInstanller.png","num_read":321,"num_like":992,"num_collection":168,"num_comments":36},"prev":{"title":"SQLSERVER数据库查询执行效率、锁表等情况","path":"api/articles/resource-DB-SQLServer-查询执行效率、锁表等情况.json","image":"/img/header_img/DB/Executionefficiency.png","num_read":1339,"num_like":35,"num_collection":31,"num_comments":172},"categories":[{"name":"数据库","path":"api/categories/数据库.json","pathContent":"api/categories/数据库","description":"结构化存储格式+事务和并发控制+内存管理+SQL访问接口","cover":"https://sunfy9.gitee.io/project/photo/project/db.jpg"}],"tags":[{"name":"MySQL","path":"api/tags/MySQL.json","pathContent":"api/tags/MySQL","description":"一种关系型数据库管理系统","cover":"https://sunfy9.gitee.io/project/photo/project/desk.jpg"}]}