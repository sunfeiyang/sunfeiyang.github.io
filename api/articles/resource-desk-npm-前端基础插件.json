{"title":"前端基础插件","num_read":663,"num_like":988,"num_collection":481,"num_comments":142,"slug":"resource-desk-npm-前端基础插件","date":"2020-03-01T16:00:00.000Z","img":"/img/header_img/desk/npm.jpg","_id":"clhrbp2d8006eo5lgemxv73pi","project":"desk","site":{"data":{}},"updated":"2022-09-20T01:38:18.146Z","author":"Sunfy","comments":true,"path":"api/articles/resource-desk-npm-前端基础插件.json","webPath":"2020/03/02/resource-desk-npm-前端基础插件/","permalink":"https://sunfy9.gitee.io/2020/03/02/resource-desk-npm-%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80%E6%8F%92%E4%BB%B6/","excerpt":"前端基本开发环境安装，node、npm、cnpm、@angular","covers":["../../../../img/前端基础插件/image-20210123213318414.png","../../../../img/前端基础插件/image-20210123213822768.png","../../../../img/前端基础插件/image-20210123214230438.png","../../../../img/前端基础插件/image-20210123214609372.png"],"keywords":"sunfy, hexo-theme-snail","content":"<p>前端基本开发环境安装，node、npm、cnpm、@angular<a id=\"more\"></a></p>\n<h2 id=\"安装nodejs\"><a href=\"#安装nodejs\" class=\"headerlink\" title=\"安装nodejs\"></a>安装nodejs</h2><p>第一步，去 nodejs 官网 <a href=\"https://nodejs.org/\" target=\"_blank\" rel=\"noopener\">https://nodejs.org</a> 看最新的版本号；<img src=\"../../../../img/前端基础插件/image-20210123213318414.png\" alt=\"image-20210123213318414\"></p>\n<p>求稳的话建议选 LTS版。</p>\n<p>第二步，添加源后安装<br>重点来了，nodejs 的每个大版本号都有相对应的源，比如这里的 14.x.x版本的源是<a href=\"https://deb.nodesource.com/setup_14.x。\" target=\"_blank\" rel=\"noopener\">https://deb.nodesource.com/setup_14.x。</a></p>\n<p>所以在终端执行：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -sL https://deb.nodesource.com/setup_14.x | sudo -E bash -</span><br></pre></td></tr></table></figure>\n<p>稍等片刻，源已经添加完毕，再执行：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install -y nodejs</span><br></pre></td></tr></table></figure>\n<p>等待安装完成。<sunfy-line></p>\n<h2 id=\"安装npm\"><a href=\"#安装npm\" class=\"headerlink\" title=\"安装npm\"></a>安装npm</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt install npm</span><br></pre></td></tr></table></figure>\n<p><img src=\"../../../../img/前端基础插件/image-20210123213822768.png\" alt=\"image-20210123213822768\"></p>\n<h2 id=\"淘宝npm镜像-cnpm\"><a href=\"#淘宝npm镜像-cnpm\" class=\"headerlink\" title=\"淘宝npm镜像 cnpm\"></a>淘宝npm镜像 cnpm</h2><p>国内直接使用 npm 的官方镜像是非常慢的，这里推荐使用淘宝 NPM 镜像。</p>\n<p>淘宝 NPM 镜像是一个完整 npmjs.org 镜像，可以用此代替官方版本(只读)，同步频率目前为 10分钟 一次以保证尽量与官方服务同步。</p>\n<p>用npm 安装 cnm</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm <span class=\"keyword\">install</span> -g cnpm <span class=\"comment\">--registry=https://registry.npm.taobao.org</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"错误\"><a href=\"#错误\" class=\"headerlink\" title=\"错误\"></a>错误</h2><p><img src=\"../../../../img/前端基础插件/image-20210123214230438.png\" alt=\"image-20210123214230438\"></p>\n<h2 id=\"错误原因\"><a href=\"#错误原因\" class=\"headerlink\" title=\"错误原因\"></a>错误原因</h2><p>找到报错的文件，会看到它的所有者是 <code>root</code>。<br>之前用 <code>root</code> 进行了局部的安装操作，导致这个文件的所有者是 <code>root</code> ，还包括 <code>.npm</code> 文件夹下部分文件夹的所有权，也是 <code>root</code>，普通用户当然就无权访问了。就会报权限错误。</p>\n<h2 id=\"解决办法\"><a href=\"#解决办法\" class=\"headerlink\" title=\"解决办法\"></a>解决办法</h2><p>就是把用户目录下的 <code>.npm</code> 文件夹所有权都改成当前用户即可。<br>比如：当前用户名为 sunfy</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo chown -R sunfy ~/.npm</span><br></pre></td></tr></table></figure>\n<h2 id=\"安装Angular\"><a href=\"#安装Angular\" class=\"headerlink\" title=\"安装Angular\"></a>安装Angular</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g @angular/cli</span><br></pre></td></tr></table></figure>\n<p><img src=\"../../../../img/前端基础插件/image-20210123214609372.png\" alt=\"image-20210123214609372\"></p>\n<h2 id=\"npm安装后提示命令不存在\"><a href=\"#npm安装后提示命令不存在\" class=\"headerlink\" title=\"npm安装后提示命令不存在\"></a>npm安装后提示命令不存在</h2><p>解决方案：用一个通用的命令配置环境变量</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo -e &quot;export PATH&#x3D;$(npm prefix -g)&#x2F;bin:$PATH&quot; &gt;&gt; ~&#x2F;.bashrc &amp;&amp; source ~&#x2F;.bashrc</span><br></pre></td></tr></table></figure>","more":"</p>\n<h2 id=\"安装nodejs\"><a href=\"#安装nodejs\" class=\"headerlink\" title=\"安装nodejs\"></a>安装nodejs</h2><p>第一步，去 nodejs 官网 <a href=\"https://nodejs.org/\" target=\"_blank\" rel=\"noopener\">https://nodejs.org</a> 看最新的版本号；<img src=\"../../../../img/前端基础插件/image-20210123213318414.png\" alt=\"image-20210123213318414\"></p>\n<p>求稳的话建议选 LTS版。</p>\n<p>第二步，添加源后安装<br>重点来了，nodejs 的每个大版本号都有相对应的源，比如这里的 14.x.x版本的源是<a href=\"https://deb.nodesource.com/setup_14.x。\" target=\"_blank\" rel=\"noopener\">https://deb.nodesource.com/setup_14.x。</a></p>\n<p>所以在终端执行：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -sL https://deb.nodesource.com/setup_14.x | sudo -E bash -</span><br></pre></td></tr></table></figure>\n<p>稍等片刻，源已经添加完毕，再执行：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt-get install -y nodejs</span><br></pre></td></tr></table></figure>\n<p>等待安装完成。<sunfy-line></p>\n<h2 id=\"安装npm\"><a href=\"#安装npm\" class=\"headerlink\" title=\"安装npm\"></a>安装npm</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo apt install npm</span><br></pre></td></tr></table></figure>\n<p><img src=\"../../../../img/前端基础插件/image-20210123213822768.png\" alt=\"image-20210123213822768\"></p>\n<h2 id=\"淘宝npm镜像-cnpm\"><a href=\"#淘宝npm镜像-cnpm\" class=\"headerlink\" title=\"淘宝npm镜像 cnpm\"></a>淘宝npm镜像 cnpm</h2><p>国内直接使用 npm 的官方镜像是非常慢的，这里推荐使用淘宝 NPM 镜像。</p>\n<p>淘宝 NPM 镜像是一个完整 npmjs.org 镜像，可以用此代替官方版本(只读)，同步频率目前为 10分钟 一次以保证尽量与官方服务同步。</p>\n<p>用npm 安装 cnm</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm <span class=\"keyword\">install</span> -g cnpm <span class=\"comment\">--registry=https://registry.npm.taobao.org</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"错误\"><a href=\"#错误\" class=\"headerlink\" title=\"错误\"></a>错误</h2><p><img src=\"../../../../img/前端基础插件/image-20210123214230438.png\" alt=\"image-20210123214230438\"></p>\n<h2 id=\"错误原因\"><a href=\"#错误原因\" class=\"headerlink\" title=\"错误原因\"></a>错误原因</h2><p>找到报错的文件，会看到它的所有者是 <code>root</code>。<br>之前用 <code>root</code> 进行了局部的安装操作，导致这个文件的所有者是 <code>root</code> ，还包括 <code>.npm</code> 文件夹下部分文件夹的所有权，也是 <code>root</code>，普通用户当然就无权访问了。就会报权限错误。</p>\n<h2 id=\"解决办法\"><a href=\"#解决办法\" class=\"headerlink\" title=\"解决办法\"></a>解决办法</h2><p>就是把用户目录下的 <code>.npm</code> 文件夹所有权都改成当前用户即可。<br>比如：当前用户名为 sunfy</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo chown -R sunfy ~/.npm</span><br></pre></td></tr></table></figure>\n<h2 id=\"安装Angular\"><a href=\"#安装Angular\" class=\"headerlink\" title=\"安装Angular\"></a>安装Angular</h2><figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g @angular/cli</span><br></pre></td></tr></table></figure>\n<p><img src=\"../../../../img/前端基础插件/image-20210123214609372.png\" alt=\"image-20210123214609372\"></p>\n<h2 id=\"npm安装后提示命令不存在\"><a href=\"#npm安装后提示命令不存在\" class=\"headerlink\" title=\"npm安装后提示命令不存在\"></a>npm安装后提示命令不存在</h2><p>解决方案：用一个通用的命令配置环境变量</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">echo -e &quot;export PATH&#x3D;$(npm prefix -g)&#x2F;bin:$PATH&quot; &gt;&gt; ~&#x2F;.bashrc &amp;&amp; source ~&#x2F;.bashrc</span><br></pre></td></tr></table></figure>","next":{"title":"tomcat配置日志输出","path":"api/articles/resource-tools-Server-Server-tomcat.json","image":"/img/header_img/server/tomcat-log.png","num_read":207,"num_like":197,"num_collection":775,"num_comments":146},"prev":{"title":"Ubuntu系统解决Windows下Zip解压中文乱码问题","path":"api/articles/resource-system-Linux-ubuntu-windowsZipCode.json","image":"/img/header_img/15.gif","num_read":1584,"num_like":472,"num_collection":157,"num_comments":112},"categories":[{"name":"前端","path":"api/categories/前端.json","pathContent":"api/categories/前端","description":"包含vue、npm、html、Angular、js等相关","cover":"https://sunfy9.gitee.io/project/photo/project/desk.jpg"}],"tags":[{"name":"npm","path":"api/tags/npm.json","pathContent":"api/tags/npm","description":"[npm]暂未设置说明","cover":"https://sunfy9.gitee.io/img/header_img/sunfy-default.png"}]}