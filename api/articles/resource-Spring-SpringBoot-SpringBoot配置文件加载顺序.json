{"title":"SpringBoot配置文件加载顺序","num_read":1515,"num_like":422,"num_collection":107,"num_comments":109,"slug":"resource-Spring-SpringBoot-SpringBoot配置文件加载顺序","date":"2021-08-08T16:00:00.000Z","img":"/sunfy-framework/img/header_img/spring/springBootAuto.png","_id":"cl9dry1wl0020bslgf9nggakn","project":"Spring","subtitle":"配置文件的加载顺序","site":{"data":{}},"updated":"2022-10-18T05:36:53.814Z","author":"Sunfy","comments":true,"path":"api/articles/resource-Spring-SpringBoot-SpringBoot配置文件加载顺序.json","webPath":"2021/08/09/resource-Spring-SpringBoot-SpringBoot配置文件加载顺序/","permalink":"https://fy-blog.gitee.io/sunfy-framework/2021/08/09/resource-Spring-SpringBoot-SpringBoot%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8A%A0%E8%BD%BD%E9%A1%BA%E5%BA%8F/","excerpt":null,"covers":null,"keywords":"sunfy, hexo-theme-snail","content":"<h2 id=\"配置文件的加载顺序\"><a href=\"#配置文件的加载顺序\" class=\"headerlink\" title=\"配置文件的加载顺序\"></a>配置文件的加载顺序</h2><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">includes</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/application*.yml<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/application*.yaml<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/application*.properties<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">includes</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"外部约定配置文件加载顺序\"><a href=\"#外部约定配置文件加载顺序\" class=\"headerlink\" title=\"外部约定配置文件加载顺序\"></a>外部约定配置文件加载顺序</h2><p>优先级由底到高，高优先级的配置会覆盖低优先级的配置；互补配置；</p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">optional</span>:<span class=\"string\">classpath:/</span></span><br><span class=\"line\"><span class=\"attr\">optional</span>:<span class=\"string\">classpath:/config/</span></span><br><span class=\"line\"><span class=\"attr\">optional</span>:<span class=\"string\">file:./</span></span><br><span class=\"line\"><span class=\"attr\">optional</span>:<span class=\"string\">file:./config/*/</span></span><br><span class=\"line\"><span class=\"attr\">optional</span>:<span class=\"string\">file:./config/</span></span><br><span class=\"line\"><span class=\"attr\">optional</span>:<span class=\"string\">classpath:custom-config/      --spring.config.location</span></span><br><span class=\"line\"><span class=\"attr\">optional</span>:<span class=\"string\">file:./custom-config/         --spring.config.location</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>classpath根目录下的</li>\n<li>classpath根config/</li>\n<li>项目根目录(如果当前项目是继承/耦合 关系maven项目的话，项目根目录=父maven项目的根目录)</li>\n<li>项目根目录/config</li>\n<li>直接子目录/config </li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java -jar xxxx.jar --spring.config.location=D:\\config/</span><br></pre></td></tr></table></figure>\n<p><strong>所有配置文件按以下顺序考虑</strong>： 优先级从低到高<sunfy-line></p>\n<ol>\n<li>打包在jar中配置文件  </li>\n<li>打包在jar中profile </li>\n<li>打包的jar之外的配置文件</li>\n<li>打包的jar之外的profile</li>\n</ol>\n<h2 id=\"配置文件加载顺序\"><a href=\"#配置文件加载顺序\" class=\"headerlink\" title=\"配置文件加载顺序\"></a>配置文件加载顺序</h2><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/application*.yml<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/application*.yaml<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/application*.properties<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">optional:classpath:/</span><br><span class=\"line\">optional:classpath:/config/</span><br><span class=\"line\">optional:file:./</span><br><span class=\"line\">optional:file:./config/*/</span><br><span class=\"line\">optional:file:./config/</span><br><span class=\"line\">optional:classpath:custom-config/      --spring.config.location</span><br><span class=\"line\">optional:file:./custom-config/         --spring.config.location</span><br><span class=\"line\"></span><br><span class=\"line\">所有配置文件按以下顺序考虑： 优先级从低到高</span><br><span class=\"line\">打包在jar中配置文件  </span><br><span class=\"line\">打包在jar中profile </span><br><span class=\"line\">打包的jar之外的配置文件</span><br><span class=\"line\">打包的jar之外的profile</span><br></pre></td></tr></table></figure>\n","more":"<h2 id=\"配置文件的加载顺序\"><a href=\"#配置文件的加载顺序\" class=\"headerlink\" title=\"配置文件的加载顺序\"></a>配置文件的加载顺序</h2><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">includes</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/application*.yml<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/application*.yaml<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/application*.properties<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">includes</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"外部约定配置文件加载顺序\"><a href=\"#外部约定配置文件加载顺序\" class=\"headerlink\" title=\"外部约定配置文件加载顺序\"></a>外部约定配置文件加载顺序</h2><p>优先级由底到高，高优先级的配置会覆盖低优先级的配置；互补配置；</p>\n<figure class=\"highlight properties\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">optional</span>:<span class=\"string\">classpath:/</span></span><br><span class=\"line\"><span class=\"attr\">optional</span>:<span class=\"string\">classpath:/config/</span></span><br><span class=\"line\"><span class=\"attr\">optional</span>:<span class=\"string\">file:./</span></span><br><span class=\"line\"><span class=\"attr\">optional</span>:<span class=\"string\">file:./config/*/</span></span><br><span class=\"line\"><span class=\"attr\">optional</span>:<span class=\"string\">file:./config/</span></span><br><span class=\"line\"><span class=\"attr\">optional</span>:<span class=\"string\">classpath:custom-config/      --spring.config.location</span></span><br><span class=\"line\"><span class=\"attr\">optional</span>:<span class=\"string\">file:./custom-config/         --spring.config.location</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li>classpath根目录下的</li>\n<li>classpath根config/</li>\n<li>项目根目录(如果当前项目是继承/耦合 关系maven项目的话，项目根目录=父maven项目的根目录)</li>\n<li>项目根目录/config</li>\n<li>直接子目录/config </li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">java -jar xxxx.jar --spring.config.location=D:\\config/</span><br></pre></td></tr></table></figure>\n<p><strong>所有配置文件按以下顺序考虑</strong>： 优先级从低到高<sunfy-line></p>\n<ol>\n<li>打包在jar中配置文件  </li>\n<li>打包在jar中profile </li>\n<li>打包的jar之外的配置文件</li>\n<li>打包的jar之外的profile</li>\n</ol>\n<h2 id=\"配置文件加载顺序\"><a href=\"#配置文件加载顺序\" class=\"headerlink\" title=\"配置文件加载顺序\"></a>配置文件加载顺序</h2><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/application*.yml<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/application*.yaml<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">include</span>&gt;</span>**/application*.properties<span class=\"tag\">&lt;/<span class=\"name\">include</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">optional:classpath:/</span><br><span class=\"line\">optional:classpath:/config/</span><br><span class=\"line\">optional:file:./</span><br><span class=\"line\">optional:file:./config/*/</span><br><span class=\"line\">optional:file:./config/</span><br><span class=\"line\">optional:classpath:custom-config/      --spring.config.location</span><br><span class=\"line\">optional:file:./custom-config/         --spring.config.location</span><br><span class=\"line\"></span><br><span class=\"line\">所有配置文件按以下顺序考虑： 优先级从低到高</span><br><span class=\"line\">打包在jar中配置文件  </span><br><span class=\"line\">打包在jar中profile </span><br><span class=\"line\">打包的jar之外的配置文件</span><br><span class=\"line\">打包的jar之外的profile</span><br></pre></td></tr></table></figure>\n","next":{"title":"Spring循环依赖底层原理","path":"api/articles/resource-Spring-Spring-Spring循环依赖底层原理.json","image":"/sunfy-framework/img/header_img/spring/dependencies.png","num_read":1173,"num_like":94,"num_collection":607,"num_comments":161},"prev":{"title":"Spring、Spring MVC和Spring Boot的联系和区别","path":"api/articles/resource-Spring-Spring-Spring、Spring-MVC和Spring-Boot的联系和区别.json","image":"/sunfy-framework/img/header_img/spring/SpringConnection.png","num_read":412,"num_like":1036,"num_collection":763,"num_comments":180},"categories":[{"name":"Spring全家桶","path":"api/categories/Spring全家桶.json","pathContent":"api/categories/Spring全家桶","description":"更快、更容易、更安全","cover":"https://sunfy9.gitee.io/project/photo/project/spring.png"}],"tags":[{"name":"Spring","path":"api/tags/Spring.json","pathContent":"api/tags/Spring","description":"更快、更容易、更安全","cover":"https://sunfy9.gitee.io/project/photo/project/spring.png"},{"name":"Interview","path":"api/tags/Interview.json","pathContent":"api/tags/Interview","description":"面试题相关内容","cover":"https://sunfy9.gitee.io/img/header_img/sunfy-default.png"}]}