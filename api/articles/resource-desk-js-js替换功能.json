{"title":"js替换功能","num_read":1315,"num_like":982,"num_collection":469,"num_comments":42,"slug":"resource-desk-js-js替换功能","date":"2021-06-30T16:00:00.000Z","img":"/img/header_img/desk/vue.gif","_id":"clhrbp2cl005po5lgcchc893g","project":"desk","subtitle":"字符替换的几种方式","site":{"data":{}},"updated":"2022-08-18T07:27:52.000Z","author":"Sunfy","comments":true,"path":"api/articles/resource-desk-js-js替换功能.json","webPath":"2021/07/01/resource-desk-js-js替换功能/","permalink":"https://sunfy9.gitee.io/2021/07/01/resource-desk-js-js%E6%9B%BF%E6%8D%A2%E5%8A%9F%E8%83%BD/","excerpt":null,"covers":null,"keywords":"sunfy, hexo-theme-snail","content":"<p>js 的replace 默认替换只替换第一个匹配的字符，如果字符串有超过两个以上的对应字符就无法进行替换，这时候就要进行一点操作，进行全部替换。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script language=<span class=\"string\">\"javascript\"</span>&gt;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> strM = <span class=\"string\">\"这是要被替换的字符串啊啊！\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">//在此我想将字母a替换成字母A</span></span><br><span class=\"line\">    alert(strM.replace(<span class=\"string\">\"啊\"</span>,<span class=\"string\">\"额\"</span>));</span><br><span class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></span><br></pre></td></tr></table></figure>\n<p>上面这段代码，只能替换第一个字符“啊”，第二个“啊”就无法替换，这样就没办法满足大多数使用js(replace)的需求</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script type=<span class=\"string\">\"text/javascript\"</span> language=<span class=\"string\">\"javascript\"</span>&gt;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> s = <span class=\"string\">\"这是要被替换的字符换啊啊！\"</span>;</span><br><span class=\"line\">    alert(s);</span><br><span class=\"line\">    alert(s.replace(<span class=\"regexp\">/啊/g</span>, <span class=\"string\">\"额\"</span>));</span><br><span class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></span><br></pre></td></tr></table></figure>\n<p>这样，就可以实现整个字符串的替换。</p>\n<p>我们这里用到了正则函数的/g全部的使用。这样就可以实现整个字符串的替换效果。</p>\n<p>下面，我们大家可能还有个需求无法满足，那就是，我们替换定值可以使用这个，但是替换变量怎么使用？<sunfy-line></p>\n<p>接下来，就说一下替换变量的使用方式。</p>\n<p>简单介绍一下eval() 函数可计算某个字符串，并执行其中的的 JavaScript 代码。接下来主要靠这个函数。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> ch = <span class=\"string\">\"变量\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> reg = <span class=\"string\">\"/\"</span>+ch+<span class=\"string\">\"/g\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> str = <span class=\"string\">\"这是一个变量，这是一个变量\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> val = str.replace(<span class=\"built_in\">eval</span>(reg),<span class=\"string\">\"替换\"</span>);</span><br><span class=\"line\">    alert(val);</span><br><span class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></span><br></pre></td></tr></table></figure>\n<p>但是如果要替换的字符串中含有/符号时，上面的就不能用了，需要采取以下方法</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> ch = <span class=\"string\">\"/\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> str = <span class=\"string\">\"这是一/个变量，这是一个变量\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> val = str .replace(<span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(ch,<span class=\"string\">'g'</span>),<span class=\"string\">\"b\"</span>);</span><br><span class=\"line\">    alert(val);</span><br><span class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></span><br></pre></td></tr></table></figure>\n","more":"<p>js 的replace 默认替换只替换第一个匹配的字符，如果字符串有超过两个以上的对应字符就无法进行替换，这时候就要进行一点操作，进行全部替换。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script language=<span class=\"string\">\"javascript\"</span>&gt;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> strM = <span class=\"string\">\"这是要被替换的字符串啊啊！\"</span>;</span><br><span class=\"line\">    <span class=\"comment\">//在此我想将字母a替换成字母A</span></span><br><span class=\"line\">    alert(strM.replace(<span class=\"string\">\"啊\"</span>,<span class=\"string\">\"额\"</span>));</span><br><span class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></span><br></pre></td></tr></table></figure>\n<p>上面这段代码，只能替换第一个字符“啊”，第二个“啊”就无法替换，这样就没办法满足大多数使用js(replace)的需求</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script type=<span class=\"string\">\"text/javascript\"</span> language=<span class=\"string\">\"javascript\"</span>&gt;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> s = <span class=\"string\">\"这是要被替换的字符换啊啊！\"</span>;</span><br><span class=\"line\">    alert(s);</span><br><span class=\"line\">    alert(s.replace(<span class=\"regexp\">/啊/g</span>, <span class=\"string\">\"额\"</span>));</span><br><span class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></span><br></pre></td></tr></table></figure>\n<p>这样，就可以实现整个字符串的替换。</p>\n<p>我们这里用到了正则函数的/g全部的使用。这样就可以实现整个字符串的替换效果。</p>\n<p>下面，我们大家可能还有个需求无法满足，那就是，我们替换定值可以使用这个，但是替换变量怎么使用？<sunfy-line></p>\n<p>接下来，就说一下替换变量的使用方式。</p>\n<p>简单介绍一下eval() 函数可计算某个字符串，并执行其中的的 JavaScript 代码。接下来主要靠这个函数。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> ch = <span class=\"string\">\"变量\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> reg = <span class=\"string\">\"/\"</span>+ch+<span class=\"string\">\"/g\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> str = <span class=\"string\">\"这是一个变量，这是一个变量\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> val = str.replace(<span class=\"built_in\">eval</span>(reg),<span class=\"string\">\"替换\"</span>);</span><br><span class=\"line\">    alert(val);</span><br><span class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></span><br></pre></td></tr></table></figure>\n<p>但是如果要替换的字符串中含有/符号时，上面的就不能用了，需要采取以下方法</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> ch = <span class=\"string\">\"/\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> str = <span class=\"string\">\"这是一/个变量，这是一个变量\"</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> val = str .replace(<span class=\"keyword\">new</span> <span class=\"built_in\">RegExp</span>(ch,<span class=\"string\">'g'</span>),<span class=\"string\">\"b\"</span>);</span><br><span class=\"line\">    alert(val);</span><br><span class=\"line\">&lt;<span class=\"regexp\">/script&gt;</span></span><br></pre></td></tr></table></figure>\n","next":{"title":"docker-compose 启动容器","path":"api/articles/resource-RPC-Docker-docker-compose-base.json","image":"/img/header_img/docker/docker.jpg","num_read":434,"num_like":886,"num_collection":174,"num_comments":76},"prev":{"title":"npm基础知识点总结记录","path":"api/articles/resource-desk-npm-npm基础知识点.json","image":"/img/header_img/desk/npm.jpg","num_read":1126,"num_like":822,"num_collection":712,"num_comments":37},"categories":[{"name":"前端","path":"api/categories/前端.json","pathContent":"api/categories/前端","description":"包含vue、npm、html、Angular、js等相关","cover":"https://sunfy9.gitee.io/project/photo/project/desk.jpg"}],"tags":[{"name":"js","path":"api/tags/js.json","pathContent":"api/tags/js","description":"[js]暂未设置说明","cover":"https://sunfy9.gitee.io/img/header_img/sunfy-default.png"}]}