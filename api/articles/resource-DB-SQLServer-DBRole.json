{"title":"SQLSERVER数据库各种角色说明","num_read":1426,"num_like":497,"num_collection":158,"num_comments":193,"slug":"resource-DB-SQLServer-DBRole","date":"2021-08-05T16:00:00.000Z","img":"/img/header_img/DB/SQLServerRole.png","format":"max","_id":"clhrbp2ax002go5lgd1o2cqt8","project":"DB","type":"banner","subtitle":"固定服务器|数据库角色|设置示例","hot":"read","site":{"data":{}},"updated":"2022-09-20T01:30:56.368Z","comments":true,"path":"api/articles/resource-DB-SQLServer-DBRole.json","webPath":"2021/08/06/resource-DB-SQLServer-DBRole/","permalink":"https://sunfy9.gitee.io/2021/08/06/resource-DB-SQLServer-DBRole/","excerpt":null,"covers":["../../../../img/DBRole/image-20210928171840894.png","../../../../img/DBRole/image-20210928171945759.png","../../../../img/DBRole/image-20210928172235839.png","../../../../img/DBRole/image-20210928172439877.png","../../../../img/DBRole/image-20210928172709165.png","../../../../img/DBRole/image-20210928172845388.png","../../../../img/DBRole/image-20210928172908530.png"],"keywords":"sunfy, hexo-theme-snail","content":"<h1 id=\"固定服务器\"><a href=\"#固定服务器\" class=\"headerlink\" title=\"固定服务器\"></a>固定服务器</h1><p>（服务器级别角色）由于固定服务器是在服务器层次上定义的，因此它们位于从属于数据库服务器的数据库外面。下表列出了所有现有的固定 <a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a></p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a></th>\n<th>说  明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>sysadmin</td>\n<td>执行<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/sql\" target=\"_blank\" rel=\"noopener\">SQL</a> Server中的任何动作</td>\n</tr>\n<tr>\n<td>serveradmin</td>\n<td>配置服务器设置</td>\n</tr>\n<tr>\n<td>setupadmin</td>\n<td>安装复制和管理扩展过程</td>\n</tr>\n<tr>\n<td>securityadmin</td>\n<td>管理登录和CREATE DATABASE的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>以及阅读审计</td>\n</tr>\n<tr>\n<td>processadmin</td>\n<td>管理<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/sql\" target=\"_blank\" rel=\"noopener\">SQL</a> Server进程</td>\n</tr>\n<tr>\n<td>dbcreator</td>\n<td>创建和修改数据库</td>\n</tr>\n<tr>\n<td>diskadmin</td>\n<td>管理磁盘文件</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h2 id=\"固定服务器角色及其权限\"><a href=\"#固定服务器角色及其权限\" class=\"headerlink\" title=\"固定服务器角色及其权限\"></a>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>及其<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a></h2><p>在某个<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/sql\" target=\"_blank\" rel=\"noopener\">SQL</a> Server系统中，每个固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>都有其隐含的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。使用系统过程sp_srvrolepermission可以浏览每个固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。该系统过程的语法形式为：<br>sp_srvrolepermission[[@srvrolename =] ‘role’]<br>如果没有指定role的值，那么所有的固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>都将显示出来。下面的部分将讨论每个固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。</p>\n<h3 id=\"1-sysadmin\"><a href=\"#1-sysadmin\" class=\"headerlink\" title=\"1. sysadmin\"></a>1. sysadmin<sunfy-line></h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>sysadmin的成员被赋予了<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/sql\" target=\"_blank\" rel=\"noopener\">SQL</a> Server系统中所有可能的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。例如，只有这个角色中的成员(或一个被这个角色中的成员赋予了CREATE DATABASE<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>的用户)才能够创建数据库。<br>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>和sa登录之间有着特殊的关系。sa登录一直都是固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>中的成员，并且不能从该角色中删除。</p>\n<h3 id=\"2-serveradmin\"><a href=\"#2-serveradmin\" class=\"headerlink\" title=\"2. serveradmin\"></a>2. serveradmin</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>serveradmin的成员可以执行如下的动作：<br>向该<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>中添加其他登录<br>运行dbcc pin<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/table\" target=\"_blank\" rel=\"noopener\">table</a>命令(从而使表常驻于主<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/内存\" target=\"_blank\" rel=\"noopener\">内存</a>中)<br>运行系统过程sp<em>configure(以显示或更改系统选项)<br>运行reconfigure选项(以更新系统过程sp_configure所做的所有改动)<br>使用shutdown命令关掉数据库服务器<br>运行系统过程sp</em><a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/table\" target=\"_blank\" rel=\"noopener\">table</a>option为用户自定义表设置选项的值</p>\n<h3 id=\"3-setupadmin\"><a href=\"#3-setupadmin\" class=\"headerlink\" title=\"3. setupadmin\"></a>3. setupadmin</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>setupadmin中的成员可以执行如下的动作：<br>向该<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>中添加其他登录<br>添加、删除或配置链接的服务器<br>执行一些系统过程，如sp_serveroption</p>\n<h3 id=\"4-securityadmin\"><a href=\"#4-securityadmin\" class=\"headerlink\" title=\"4. securityadmin\"></a>4. securityadmin</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>securitypadmin中的成员可以执行关于服务器访问和安全的所有动作。这些成员可以进行如下的系统动作：<br>向该<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>中添加其他登录<br>读取<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/sql\" target=\"_blank\" rel=\"noopener\">SQL</a> Server的错误日志<br>运行如下的系统过程：如sp_addlinkedsrvlogin、sp_addlogin、sp_defaultdb、sp_defaultlanguage、sp_denylogin、sp_droplinkedsrvlogin、sp_droplogin、sp_grantlogin、sp_helplogins、sp_remoteoption和sp_revokelogin(所有这些系统过程都与系统安全相关。)</p>\n<h3 id=\"5-processadmin\"><a href=\"#5-processadmin\" class=\"headerlink\" title=\"5. processadmin\"></a>5. processadmin</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>processadmin中的成员用来管理<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/sql\" target=\"_blank\" rel=\"noopener\">SQL</a> Server进程，如中止用户正在运行的查询。这些成员可以进行如下的动作：<br>向该<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>中添加其他登录<br>执行KILL命令(以取消用户进程)</p>\n<h3 id=\"6-dbcreator\"><a href=\"#6-dbcreator\" class=\"headerlink\" title=\"6. dbcreator\"></a>6. dbcreator</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>dbcreator中的成员用来管理与数据库创建和修改有关的所有动作。这些成员可以进行如下的动作：<br>向该<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>中添加其他登录<br>运行CREATE DATABASE和ALTER DATABASE<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a><br>使用系统过程sp_renamedb来修改数据库的名称</p>\n<h3 id=\"7-diskadmin\"><a href=\"#7-diskadmin\" class=\"headerlink\" title=\"7. diskadmin\"></a>7. diskadmin</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>diskadmin的成员可以进行如下与用来存储数据库对象的文件和文件组有关的动作：<br>向该<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>中添加其他登录<br>运行如下系统过程：sp_ddumpdevice和sp_dropdevice。<br>运行DISK INIT<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a></p>\n<h1 id=\"数据库角色\"><a href=\"#数据库角色\" class=\"headerlink\" title=\"数据库角色\"></a>数据库角色</h1><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>在数据库层上进行定义，因此它们存在于属于数据库服务器的每个数据库中。下表列出了所有的固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>。</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a></th>\n<th>说  明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>db_owner</td>\n<td>可以执行数据库中技术所有动作的用户</td>\n</tr>\n<tr>\n<td>db_accessadmin</td>\n<td>可以添加、删除用户的用户</td>\n</tr>\n<tr>\n<td>db_datareader</td>\n<td>可以查看所有数据库中用户表内数据的用户</td>\n</tr>\n<tr>\n<td>db_datawriter</td>\n<td>可以添加、修改或删除所有数据库中用户表内数据的用户</td>\n</tr>\n<tr>\n<td>db_ddladmin</td>\n<td>可以在数据库中执行所有DDL操作的用户</td>\n</tr>\n<tr>\n<td>db_securityadmin</td>\n<td>可以管理数据库中与安全<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>有关所有动作的用户</td>\n</tr>\n<tr>\n<td>db_backoperator</td>\n<td>可以备份数据库的用户(并可以发布DBCC和CHECKPOINT<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a>，这两个<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a>一般在备份前都会被执行)</td>\n</tr>\n<tr>\n<td>db_denydatareader</td>\n<td>不能看到数据库中任何数据的用户</td>\n</tr>\n<tr>\n<td>db_denydatawriter</td>\n<td>不能改变数据库中任何数据的用户</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>除了上表中列出的固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>之外，还有一种特殊的固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>，名为public，这里将首先介绍这一角色。</p>\n<h3 id=\"public角色\"><a href=\"#public角色\" class=\"headerlink\" title=\"public角色\"></a>public角色</h3><p>public角色是一种特殊的固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>，数据库的每个合法用户都属于该角色。它为数据库中的用户提供了所有默认<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。这样就提供了一种机制，即给予那些没有适当<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>的所有用户以一定的(通常是有限的)<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。public角色为数据库中的所有用户都保留了默认的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>，因此是不能被删除的。<br>一般情况下，public角色允许用户进行如下的操作：<br>使用某些系统过程查看并显示master数据库中的信息<br>执行一些不需要一些<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a>(例如PRINT)</p>\n<h2 id=\"固定数据库角色及其权限\"><a href=\"#固定数据库角色及其权限\" class=\"headerlink\" title=\"固定数据库角色及其权限\"></a>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>及其<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a></h2><p>在数据库中，每个固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>都有其特定的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。这就意味着对于某个数据库来说，固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>的成员的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>是有限的。使用系统过程sp_dbfixedrolepermission就可以查看每个固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。该系统过程的语法为：<br>sp_db.xedrolepermission [[@rolename =] ‘role’]<br>如果没有指定role的值，那么所有固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>都可以显示出来。下面的几节将讨论每个固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。</p>\n<h3 id=\"1-db-owner\"><a href=\"#1-db-owner\" class=\"headerlink\" title=\"1. db_owner\"></a>1. db_owner</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>db_owner的成员可以在特定的数据库中进行如下的动作：<br>向其他固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>中添加成员，或从其中删除成员<br>运行所有的DDL<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a><br>运行BACKUP DATABASE和BACKUP LOG<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a><br>使用CHECKPOINT<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a>显式地启动检查点进程<br>运行下列dbcc命令：dbcc checkalloc、dbcc checkcatalog、dbcc checkdb、dbcc updateusage<br>授予、取消或剥夺每一个数据库对象上的下列<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>：SELECT、INSERT、UPDATE、DELETE和REFERENCES<br>使用下列系统过程向数据库中添加用户或角色：sp_addapprole、sp_addrole、sp_addrolemember、sp_approlepassword、sp_changeobjectowner、sp_dropapprole、sp_droprole、sp_droprolemember、sp_dropuser、sp_grantdbaccess<br>使用系统过程sp_rename为任何数据库对象重新命名</p>\n<h3 id=\"2-db-accessadmin\"><a href=\"#2-db-accessadmin\" class=\"headerlink\" title=\"2. db_accessadmin\"></a>2. db_accessadmin</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>db_accessadmin的成员可以执行与数据库访问有关的所有动作。这些角色可以在具体的数据库中执行下列操作：<br>运行下列系统过程：sp_addalias、sp_dropalias、sp_dropuser、sp_grantdbacess、sp_revokedbaccess<br>为Windows用户账户、Windows组和<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/sql\" target=\"_blank\" rel=\"noopener\">SQL</a> Server登录添加或删除访问</p>\n<h3 id=\"3-dbdatareader\"><a href=\"#3-dbdatareader\" class=\"headerlink\" title=\"3. dbdatareader\"></a>3. dbdatareader</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>dbdatareader的成员对数据库中的数据库对象(表或视图)具有SELECT<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。然而，这些成员不能把这个<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>授予其他任何用户或角色。(这个限制对REVOKE<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a>来说同样成立。)</p>\n<h3 id=\"4-dbdatawriter\"><a href=\"#4-dbdatawriter\" class=\"headerlink\" title=\"4. dbdatawriter\"></a>4. dbdatawriter</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>dbdatawriter的成员对数据库中的数据库对象(表或视图)具有INSERT、UPDATE和DELETE<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。然而，这些成员不能把这个<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>授予其他任何用户或角色。(这个限制对REVOKE<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a>来说也同样成立。)</p>\n<h3 id=\"5-db-ddladmin\"><a href=\"#5-db-ddladmin\" class=\"headerlink\" title=\"5. db_ddladmin\"></a>5. db_ddladmin</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>db<em>ddladmin的成员可以进行如下的动作：<br>运行所有DDL<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a><br>对任何表上授予REFERENCESE<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a><br>使用系统过程sp_procoption和sp_recompile来修改任何存储过程的结构<br>使用系统过程sp_rename为任何数据库对象重命名<br>使用系统过程sp</em><a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/table\" target=\"_blank\" rel=\"noopener\">table</a>option和sp_changeobjectowner分别修改表的选项和任何数据库对象的拥有者</p>\n<h3 id=\"6-db-securityadmin\"><a href=\"#6-db-securityadmin\" class=\"headerlink\" title=\"6. db_securityadmin\"></a>6. db_securityadmin</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>db_securityadmin的成员可以管理数据库中的安全。这些成员可以进行如下的动作：<br>运行与安全有关的所有Transact-<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/sql\" target=\"_blank\" rel=\"noopener\">SQL</a><a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a>(GRANT、DENY和REVOKE)<br>运行以下系统过程：sp_addapprole、sp_addrole、sp_addrolemember、sp_approlepassword、sp_changeobjectowner、sp_dropapprole、sp_droprole、sp_droprolemember</p>\n<h3 id=\"7-db-backupoperator\"><a href=\"#7-db-backupoperator\" class=\"headerlink\" title=\"7. db_backupoperator\"></a>7. db_backupoperator</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>db_backupoperator的成员可以管理数据库备份的过程。这些成员可以进行如下动作：<br>运行BACKUP DATABASE和BACKUP LOG<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a><br>用CHECKPOINT<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a>显式地启动检查点进程<br>运行如下dbcc命令：dbcc checkalloc、dbcc checkcatalog、dbcc checkdb、dbcc updateusage</p>\n<h3 id=\"8-db-denydatareader和db-denydatawriter\"><a href=\"#8-db-denydatareader和db-denydatawriter\" class=\"headerlink\" title=\"8. db_denydatareader和db_denydatawriter\"></a>8. db_denydatareader和db_denydatawriter</h3><p>顾名思义，固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>db_denydatareader的成员对数据库中的数据库对象(表或视图)没有SELECT<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。如果数据库中含有敏感数据并且其他用户不能读取这些数据，那么就可以使用这个角色。<br>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>db_denydatawriter的成员对数据库中的任何数据库对象(表或视图)没有INSERT、UPDATE和DELETE<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。</p>\n<h1 id=\"设置示例\"><a href=\"#设置示例\" class=\"headerlink\" title=\"设置示例\"></a>设置示例</h1><p>要求：创建一个用户，给用户某个特定数据库所有数据库表的查看权限。</p>\n<ol>\n<li>创建用户</li>\n</ol>\n<p><img src=\"../../../../img/DBRole/image-20210928171840894.png\" alt=\"image-20210928171840894\"></p>\n<p>登录名，右键列表-&gt;新建登录名</p>\n<p><img src=\"../../../../img/DBRole/image-20210928171945759.png\" alt=\"image-20210928171945759\"></p>\n<p>填写登录名并设置验证方式，建议设置SQLServer验证，并根据实际情况是否需要前置实施密码策略。</p>\n<p>到这创建就完成了，此时新建的登录名只可以登录，并没有任何权限。</p>\n<ol>\n<li>服务器角色</li>\n</ol>\n<p><img src=\"../../../../img/DBRole/image-20210928172235839.png\" alt=\"image-20210928172235839\"></p>\n<p>设置服务器角色，默认为public，根据文章说明选择合适的服务器角色，如果这个地方选择了管理员所有权限，那会直接给当前用户最大的管理权限，和我们所想要的不同。</p>\n<ol>\n<li>用户映射</li>\n</ol>\n<p><img src=\"../../../../img/DBRole/image-20210928172439877.png\" alt=\"image-20210928172439877\"></p>\n<p>这个地方设置当前用户可以查看的数据库，我们需要最大程度控制登录名的权限，我们就在此处设置当前登录名可以访问的数据库。</p>\n<ol>\n<li>数据库角色设置</li>\n</ol>\n<p><img src=\"../../../../img/DBRole/image-20210928172709165.png\" alt=\"image-20210928172709165\"></p>\n<p>要给哪个数据库设置权限就打开哪个数据库，根据文章说明，找到要设置的角色名称，右键-&gt; 属性，对数据库角色属性进行设置</p>\n<p><img src=\"../../../../img/DBRole/image-20210928172845388.png\" alt=\"image-20210928172845388\"></p>\n<p>点击添加</p>\n<p><img src=\"../../../../img/DBRole/image-20210928172908530.png\" alt=\"image-20210928172908530\"></p>\n<p>输入之后要设置的登录名称，然后检查名称是否设置正确，正确后保存即可</p>\n<p><strong>到此我们就设置了完成</strong></p>\n<p>特别说明一下，在要设定的数据库中-&gt;安全性-&gt;用户-&gt;右键属性，找到安全对象，这个地方可以针对单个表进行权限设置，精确程度会更细化，只不过这样的设置，不能进行批量设置，如果设置对象很多就相当恐怖了。</p>\n<p>本博客只是针对开发中要进行的某种设置进行了探究，SQLServer权限设置还有更多粒度的设置。</p>\n","more":"<h1 id=\"固定服务器\"><a href=\"#固定服务器\" class=\"headerlink\" title=\"固定服务器\"></a>固定服务器</h1><p>（服务器级别角色）由于固定服务器是在服务器层次上定义的，因此它们位于从属于数据库服务器的数据库外面。下表列出了所有现有的固定 <a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a></p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a></th>\n<th>说  明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>sysadmin</td>\n<td>执行<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/sql\" target=\"_blank\" rel=\"noopener\">SQL</a> Server中的任何动作</td>\n</tr>\n<tr>\n<td>serveradmin</td>\n<td>配置服务器设置</td>\n</tr>\n<tr>\n<td>setupadmin</td>\n<td>安装复制和管理扩展过程</td>\n</tr>\n<tr>\n<td>securityadmin</td>\n<td>管理登录和CREATE DATABASE的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>以及阅读审计</td>\n</tr>\n<tr>\n<td>processadmin</td>\n<td>管理<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/sql\" target=\"_blank\" rel=\"noopener\">SQL</a> Server进程</td>\n</tr>\n<tr>\n<td>dbcreator</td>\n<td>创建和修改数据库</td>\n</tr>\n<tr>\n<td>diskadmin</td>\n<td>管理磁盘文件</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h2 id=\"固定服务器角色及其权限\"><a href=\"#固定服务器角色及其权限\" class=\"headerlink\" title=\"固定服务器角色及其权限\"></a>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>及其<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a></h2><p>在某个<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/sql\" target=\"_blank\" rel=\"noopener\">SQL</a> Server系统中，每个固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>都有其隐含的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。使用系统过程sp_srvrolepermission可以浏览每个固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。该系统过程的语法形式为：<br>sp_srvrolepermission[[@srvrolename =] ‘role’]<br>如果没有指定role的值，那么所有的固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>都将显示出来。下面的部分将讨论每个固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。</p>\n<h3 id=\"1-sysadmin\"><a href=\"#1-sysadmin\" class=\"headerlink\" title=\"1. sysadmin\"></a>1. sysadmin<sunfy-line></h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>sysadmin的成员被赋予了<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/sql\" target=\"_blank\" rel=\"noopener\">SQL</a> Server系统中所有可能的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。例如，只有这个角色中的成员(或一个被这个角色中的成员赋予了CREATE DATABASE<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>的用户)才能够创建数据库。<br>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>和sa登录之间有着特殊的关系。sa登录一直都是固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>中的成员，并且不能从该角色中删除。</p>\n<h3 id=\"2-serveradmin\"><a href=\"#2-serveradmin\" class=\"headerlink\" title=\"2. serveradmin\"></a>2. serveradmin</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>serveradmin的成员可以执行如下的动作：<br>向该<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>中添加其他登录<br>运行dbcc pin<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/table\" target=\"_blank\" rel=\"noopener\">table</a>命令(从而使表常驻于主<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/内存\" target=\"_blank\" rel=\"noopener\">内存</a>中)<br>运行系统过程sp<em>configure(以显示或更改系统选项)<br>运行reconfigure选项(以更新系统过程sp_configure所做的所有改动)<br>使用shutdown命令关掉数据库服务器<br>运行系统过程sp</em><a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/table\" target=\"_blank\" rel=\"noopener\">table</a>option为用户自定义表设置选项的值</p>\n<h3 id=\"3-setupadmin\"><a href=\"#3-setupadmin\" class=\"headerlink\" title=\"3. setupadmin\"></a>3. setupadmin</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>setupadmin中的成员可以执行如下的动作：<br>向该<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>中添加其他登录<br>添加、删除或配置链接的服务器<br>执行一些系统过程，如sp_serveroption</p>\n<h3 id=\"4-securityadmin\"><a href=\"#4-securityadmin\" class=\"headerlink\" title=\"4. securityadmin\"></a>4. securityadmin</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>securitypadmin中的成员可以执行关于服务器访问和安全的所有动作。这些成员可以进行如下的系统动作：<br>向该<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>中添加其他登录<br>读取<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/sql\" target=\"_blank\" rel=\"noopener\">SQL</a> Server的错误日志<br>运行如下的系统过程：如sp_addlinkedsrvlogin、sp_addlogin、sp_defaultdb、sp_defaultlanguage、sp_denylogin、sp_droplinkedsrvlogin、sp_droplogin、sp_grantlogin、sp_helplogins、sp_remoteoption和sp_revokelogin(所有这些系统过程都与系统安全相关。)</p>\n<h3 id=\"5-processadmin\"><a href=\"#5-processadmin\" class=\"headerlink\" title=\"5. processadmin\"></a>5. processadmin</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>processadmin中的成员用来管理<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/sql\" target=\"_blank\" rel=\"noopener\">SQL</a> Server进程，如中止用户正在运行的查询。这些成员可以进行如下的动作：<br>向该<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>中添加其他登录<br>执行KILL命令(以取消用户进程)</p>\n<h3 id=\"6-dbcreator\"><a href=\"#6-dbcreator\" class=\"headerlink\" title=\"6. dbcreator\"></a>6. dbcreator</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>dbcreator中的成员用来管理与数据库创建和修改有关的所有动作。这些成员可以进行如下的动作：<br>向该<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>中添加其他登录<br>运行CREATE DATABASE和ALTER DATABASE<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a><br>使用系统过程sp_renamedb来修改数据库的名称</p>\n<h3 id=\"7-diskadmin\"><a href=\"#7-diskadmin\" class=\"headerlink\" title=\"7. diskadmin\"></a>7. diskadmin</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>diskadmin的成员可以进行如下与用来存储数据库对象的文件和文件组有关的动作：<br>向该<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/服务器角色\" target=\"_blank\" rel=\"noopener\">服务器角色</a>中添加其他登录<br>运行如下系统过程：sp_ddumpdevice和sp_dropdevice。<br>运行DISK INIT<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a></p>\n<h1 id=\"数据库角色\"><a href=\"#数据库角色\" class=\"headerlink\" title=\"数据库角色\"></a>数据库角色</h1><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>在数据库层上进行定义，因此它们存在于属于数据库服务器的每个数据库中。下表列出了所有的固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>。</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a></th>\n<th>说  明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>db_owner</td>\n<td>可以执行数据库中技术所有动作的用户</td>\n</tr>\n<tr>\n<td>db_accessadmin</td>\n<td>可以添加、删除用户的用户</td>\n</tr>\n<tr>\n<td>db_datareader</td>\n<td>可以查看所有数据库中用户表内数据的用户</td>\n</tr>\n<tr>\n<td>db_datawriter</td>\n<td>可以添加、修改或删除所有数据库中用户表内数据的用户</td>\n</tr>\n<tr>\n<td>db_ddladmin</td>\n<td>可以在数据库中执行所有DDL操作的用户</td>\n</tr>\n<tr>\n<td>db_securityadmin</td>\n<td>可以管理数据库中与安全<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>有关所有动作的用户</td>\n</tr>\n<tr>\n<td>db_backoperator</td>\n<td>可以备份数据库的用户(并可以发布DBCC和CHECKPOINT<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a>，这两个<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a>一般在备份前都会被执行)</td>\n</tr>\n<tr>\n<td>db_denydatareader</td>\n<td>不能看到数据库中任何数据的用户</td>\n</tr>\n<tr>\n<td>db_denydatawriter</td>\n<td>不能改变数据库中任何数据的用户</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>除了上表中列出的固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>之外，还有一种特殊的固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>，名为public，这里将首先介绍这一角色。</p>\n<h3 id=\"public角色\"><a href=\"#public角色\" class=\"headerlink\" title=\"public角色\"></a>public角色</h3><p>public角色是一种特殊的固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>，数据库的每个合法用户都属于该角色。它为数据库中的用户提供了所有默认<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。这样就提供了一种机制，即给予那些没有适当<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>的所有用户以一定的(通常是有限的)<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。public角色为数据库中的所有用户都保留了默认的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>，因此是不能被删除的。<br>一般情况下，public角色允许用户进行如下的操作：<br>使用某些系统过程查看并显示master数据库中的信息<br>执行一些不需要一些<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a>(例如PRINT)</p>\n<h2 id=\"固定数据库角色及其权限\"><a href=\"#固定数据库角色及其权限\" class=\"headerlink\" title=\"固定数据库角色及其权限\"></a>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>及其<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a></h2><p>在数据库中，每个固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>都有其特定的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。这就意味着对于某个数据库来说，固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>的成员的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>是有限的。使用系统过程sp_dbfixedrolepermission就可以查看每个固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。该系统过程的语法为：<br>sp_db.xedrolepermission [[@rolename =] ‘role’]<br>如果没有指定role的值，那么所有固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>都可以显示出来。下面的几节将讨论每个固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>的<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。</p>\n<h3 id=\"1-db-owner\"><a href=\"#1-db-owner\" class=\"headerlink\" title=\"1. db_owner\"></a>1. db_owner</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>db_owner的成员可以在特定的数据库中进行如下的动作：<br>向其他固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>中添加成员，或从其中删除成员<br>运行所有的DDL<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a><br>运行BACKUP DATABASE和BACKUP LOG<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a><br>使用CHECKPOINT<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a>显式地启动检查点进程<br>运行下列dbcc命令：dbcc checkalloc、dbcc checkcatalog、dbcc checkdb、dbcc updateusage<br>授予、取消或剥夺每一个数据库对象上的下列<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>：SELECT、INSERT、UPDATE、DELETE和REFERENCES<br>使用下列系统过程向数据库中添加用户或角色：sp_addapprole、sp_addrole、sp_addrolemember、sp_approlepassword、sp_changeobjectowner、sp_dropapprole、sp_droprole、sp_droprolemember、sp_dropuser、sp_grantdbaccess<br>使用系统过程sp_rename为任何数据库对象重新命名</p>\n<h3 id=\"2-db-accessadmin\"><a href=\"#2-db-accessadmin\" class=\"headerlink\" title=\"2. db_accessadmin\"></a>2. db_accessadmin</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>db_accessadmin的成员可以执行与数据库访问有关的所有动作。这些角色可以在具体的数据库中执行下列操作：<br>运行下列系统过程：sp_addalias、sp_dropalias、sp_dropuser、sp_grantdbacess、sp_revokedbaccess<br>为Windows用户账户、Windows组和<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/sql\" target=\"_blank\" rel=\"noopener\">SQL</a> Server登录添加或删除访问</p>\n<h3 id=\"3-dbdatareader\"><a href=\"#3-dbdatareader\" class=\"headerlink\" title=\"3. dbdatareader\"></a>3. dbdatareader</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>dbdatareader的成员对数据库中的数据库对象(表或视图)具有SELECT<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。然而，这些成员不能把这个<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>授予其他任何用户或角色。(这个限制对REVOKE<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a>来说同样成立。)</p>\n<h3 id=\"4-dbdatawriter\"><a href=\"#4-dbdatawriter\" class=\"headerlink\" title=\"4. dbdatawriter\"></a>4. dbdatawriter</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>dbdatawriter的成员对数据库中的数据库对象(表或视图)具有INSERT、UPDATE和DELETE<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。然而，这些成员不能把这个<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>授予其他任何用户或角色。(这个限制对REVOKE<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a>来说也同样成立。)</p>\n<h3 id=\"5-db-ddladmin\"><a href=\"#5-db-ddladmin\" class=\"headerlink\" title=\"5. db_ddladmin\"></a>5. db_ddladmin</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>db<em>ddladmin的成员可以进行如下的动作：<br>运行所有DDL<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a><br>对任何表上授予REFERENCESE<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a><br>使用系统过程sp_procoption和sp_recompile来修改任何存储过程的结构<br>使用系统过程sp_rename为任何数据库对象重命名<br>使用系统过程sp</em><a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/table\" target=\"_blank\" rel=\"noopener\">table</a>option和sp_changeobjectowner分别修改表的选项和任何数据库对象的拥有者</p>\n<h3 id=\"6-db-securityadmin\"><a href=\"#6-db-securityadmin\" class=\"headerlink\" title=\"6. db_securityadmin\"></a>6. db_securityadmin</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>db_securityadmin的成员可以管理数据库中的安全。这些成员可以进行如下的动作：<br>运行与安全有关的所有Transact-<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/sql\" target=\"_blank\" rel=\"noopener\">SQL</a><a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a>(GRANT、DENY和REVOKE)<br>运行以下系统过程：sp_addapprole、sp_addrole、sp_addrolemember、sp_approlepassword、sp_changeobjectowner、sp_dropapprole、sp_droprole、sp_droprolemember</p>\n<h3 id=\"7-db-backupoperator\"><a href=\"#7-db-backupoperator\" class=\"headerlink\" title=\"7. db_backupoperator\"></a>7. db_backupoperator</h3><p>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>db_backupoperator的成员可以管理数据库备份的过程。这些成员可以进行如下动作：<br>运行BACKUP DATABASE和BACKUP LOG<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a><br>用CHECKPOINT<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/语句\" target=\"_blank\" rel=\"noopener\">语句</a>显式地启动检查点进程<br>运行如下dbcc命令：dbcc checkalloc、dbcc checkcatalog、dbcc checkdb、dbcc updateusage</p>\n<h3 id=\"8-db-denydatareader和db-denydatawriter\"><a href=\"#8-db-denydatareader和db-denydatawriter\" class=\"headerlink\" title=\"8. db_denydatareader和db_denydatawriter\"></a>8. db_denydatareader和db_denydatawriter</h3><p>顾名思义，固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>db_denydatareader的成员对数据库中的数据库对象(表或视图)没有SELECT<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。如果数据库中含有敏感数据并且其他用户不能读取这些数据，那么就可以使用这个角色。<br>固定<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/数据库角色\" target=\"_blank\" rel=\"noopener\">数据库角色</a>db_denydatawriter的成员对数据库中的任何数据库对象(表或视图)没有INSERT、UPDATE和DELETE<a href=\"http://blog.csdn.net/e_online/article/details/4597957?tag=/权限\" target=\"_blank\" rel=\"noopener\">权限</a>。</p>\n<h1 id=\"设置示例\"><a href=\"#设置示例\" class=\"headerlink\" title=\"设置示例\"></a>设置示例</h1><p>要求：创建一个用户，给用户某个特定数据库所有数据库表的查看权限。</p>\n<ol>\n<li>创建用户</li>\n</ol>\n<p><img src=\"../../../../img/DBRole/image-20210928171840894.png\" alt=\"image-20210928171840894\"></p>\n<p>登录名，右键列表-&gt;新建登录名</p>\n<p><img src=\"../../../../img/DBRole/image-20210928171945759.png\" alt=\"image-20210928171945759\"></p>\n<p>填写登录名并设置验证方式，建议设置SQLServer验证，并根据实际情况是否需要前置实施密码策略。</p>\n<p>到这创建就完成了，此时新建的登录名只可以登录，并没有任何权限。</p>\n<ol>\n<li>服务器角色</li>\n</ol>\n<p><img src=\"../../../../img/DBRole/image-20210928172235839.png\" alt=\"image-20210928172235839\"></p>\n<p>设置服务器角色，默认为public，根据文章说明选择合适的服务器角色，如果这个地方选择了管理员所有权限，那会直接给当前用户最大的管理权限，和我们所想要的不同。</p>\n<ol>\n<li>用户映射</li>\n</ol>\n<p><img src=\"../../../../img/DBRole/image-20210928172439877.png\" alt=\"image-20210928172439877\"></p>\n<p>这个地方设置当前用户可以查看的数据库，我们需要最大程度控制登录名的权限，我们就在此处设置当前登录名可以访问的数据库。</p>\n<ol>\n<li>数据库角色设置</li>\n</ol>\n<p><img src=\"../../../../img/DBRole/image-20210928172709165.png\" alt=\"image-20210928172709165\"></p>\n<p>要给哪个数据库设置权限就打开哪个数据库，根据文章说明，找到要设置的角色名称，右键-&gt; 属性，对数据库角色属性进行设置</p>\n<p><img src=\"../../../../img/DBRole/image-20210928172845388.png\" alt=\"image-20210928172845388\"></p>\n<p>点击添加</p>\n<p><img src=\"../../../../img/DBRole/image-20210928172908530.png\" alt=\"image-20210928172908530\"></p>\n<p>输入之后要设置的登录名称，然后检查名称是否设置正确，正确后保存即可</p>\n<p><strong>到此我们就设置了完成</strong></p>\n<p>特别说明一下，在要设定的数据库中-&gt;安全性-&gt;用户-&gt;右键属性，找到安全对象，这个地方可以针对单个表进行权限设置，精确程度会更细化，只不过这样的设置，不能进行批量设置，如果设置对象很多就相当恐怖了。</p>\n<p>本博客只是针对开发中要进行的某种设置进行了探究，SQLServer权限设置还有更多粒度的设置。</p>\n","next":{"title":"算法常用的解题思路---深度优先(DFS)和广度优先(BFS)","path":"api/articles/resource-java-algorithm-805-DFSandBFS.json","image":"/img/header_img/interview/DFSandBFS.gif","num_read":141,"num_like":969,"num_collection":536,"num_comments":59},"prev":{"title":"100-常见面试题","path":"api/articles/resource-java-Base-100-interview.json","image":"/img/header_img/7.jpg","num_read":1217,"num_like":856,"num_collection":637,"num_comments":179},"categories":[{"name":"数据库","path":"api/categories/数据库.json","pathContent":"api/categories/数据库","description":"结构化存储格式+事务和并发控制+内存管理+SQL访问接口","cover":"https://sunfy9.gitee.io/project/photo/project/db.jpg"}],"tags":[{"name":"sqlServer","path":"api/tags/sqlServer.json","pathContent":"api/tags/sqlServer","description":"[sqlServer]暂未设置说明","cover":"https://sunfy9.gitee.io/img/header_img/sunfy-default.png"}]}